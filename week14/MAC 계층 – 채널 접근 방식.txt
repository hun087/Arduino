MAC 계층 – 채널 접근 방식

1. CSMA-CA (충돌 회피)
CS (Carrier Sense) : 네트워크가 현재 사용 중인 상태 알아냄
- 센서가 디텍팅
MA (Multiple Access) : 네트워크가 비어있으면 누구든 사용 가능
CA (Collision Avoidance) : 충돌 회피 (wi-fi)에서 사용되는 방식
- 충돌을 감지 못함

2. 충돌 (컬리젼, Collision)
- 두 개 이상의 STA가 같은 동시에 패킷을 목적지에 전송할때 충돌 일어나는 것
RTS, CTS 를 사용하면,충돌이 발생할 확률이 줄어듦
- 충돌 완전히 벗어날 순 없음

3. Hidden Terminal Problem
중간 터미널(A)는 양쪽 터미널(B,C)와 통신이 가능
양쪽 터미널(B,C)는 서로의 통신을 감지하지 못함
B입장에서는 C가 숨겨져있음 C입장에서도 마찬가지
서로의 존재를 알 수가 없음 - 전송에대한 감지 힘듦
숨겨진 노드 문제 - 서로 감지 못함 <- RTS, CTS 를 사용하는 이유

4. 일반적인 CSMA-CA 동작 방식
경합 방식 : 채널을 사용하고자 하는 기기들끼리 경쟁
1) 기기 A는 다른 기기가 데이터를 송신중인지 감지
2) 만약 전송 중이면 대기 - 백오프(backoff) 한다
3) 다시 송신 할때까지의 랜덤 한 시간으로 기다렸다가 다시 송신
4) 기다린 후, 다시 반송파(Carrier) 감지를 해서 다른 반송파가 있는지 확인
5) 데이터 전송을 시작한다.
단계 1: 송신 단->수신 단: RTS(Request To Send)
단계 2: 수신 단->송신 단: CTS(Clear To Send)
단계 3: 송신 단->수신 단: Data 전송
단계 4: 수신 단->송신 단: ACK(ACKnowledgement)메시지까지 받는 방식이 CSMA-CA 동작방식이다.

Carrier센서 하고 있다가 누가 충돌됬으면 기다리고 백오프(backoff) 하고 다시 랜덤 한 시간동안 기다렸다가 다시 반송파(RTS) 보냄

5. RTS-CTS-DATA-ACK 방식 (일반적 CSMA-CA)
RTS(충돌감지 못함)라는 작은 제어 패킷 먼저 전송
충돌나는지 실험 - 테스트 정확하게 받으면 - 큰 데이터 전송후 그거에 대한 ACK 받음
